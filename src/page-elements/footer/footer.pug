include ../../blocks/input/input

//- data = {logo: path to image, text: string, copyright: string}
//- links = [{title: string, links: [string, string]},]
//- subscription = {title: string, text: string}
mixin footer(data={})
  -var defaultData = {logo: "", text: "", copyright: "", links: [], subscription: {}, isSimple: false}
  -data = Object.assign(defaultData, data);

  -var typeModifier = data.isSimple ? '_type_simple' : '_type_large'
  footer(class=`footer footer${typeModifier}`)
    div(class=`footer__content-section footer${typeModifier}__content-section`)
      div(class=`footer__logo-section footer${typeModifier}__logo-section`)
        img(src=data.logo alt="logo" class=`footer__logo footer${typeModifier}__logo`)
        span(class=`footer__logo-text footer${typeModifier}__logo-text`) #{data.text}
      if !data.isSimple
        div.footer__links-section.footer_type_large__links-section
          each column in data.links
            div.footer__links-column.footer_type_large__links-column
              h3.footer__title.footer_type_large__title.footer__links-section-title.footer_type_large__links-section-title.text_type_label-CTA #{column.title}
              if column.links
                each link in column.links
                  a.footer__link.footer_type_large__link.text_type_regular(href=link.url) #{link.text}
        div.footer__subscribe-section.footer_type_large__subscribe-section
          h3.footer__title.footer_type_large__title.footer__subscription-title.footer_type_large__subscription-title.text_type_label-CTA #{data.subscription.title}
          span.footer__subscription-text.footer_type_large__subscription-text.text_type_regular #{data.subscription.text}
          div.footer__subscribe-input
            +input({
              type: "text",
              width: "premedium",
              withSubscription: true,
              placeholder: data.subscription.emailPlaceholder
            })
    div(class=`footer__copyright-bar footer${typeModifier}__copyright-bar`)
      if !data.isSimple
        span.footer__copyright-text.footer_type_large__copyright-text #{data.copyright}
      div.footer__social-media
        a.footer__twitter-icon.footer__icon.fab.fa-twitter(href="https://twitter.com/" target="_blank", rel="noopener noreferrer")
        a.span.footer__facebook-icon.footer__icon.fab.fa-facebook-square(href="https://facebook.com/" target="_blank" rel="noopener noreferrer")
        a.span.footer__instagram-icon.footer__icon.fab.fa-instagram(href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer")
